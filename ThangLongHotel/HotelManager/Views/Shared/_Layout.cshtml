<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Hệ thống quản lý khách sạn</title>    
   
    @Scripts.Render("~/bundles/modernizr")

    <!--This bundle was moved by the Telerik VS Extensions for compatibility reasons-->
    @Scripts.Render("~/bundles/jquery")    

    <link href="@Url.Content("~/Content/kendo/2014.1.415/kendo.common.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2014.1.415/kendo.dataviz.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2014.1.415/kendo.silver.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2014.1.415/kendo.dataviz.silver.min.css")" rel="stylesheet" type="text/css" />
    @*<link href="@Url.Content("~/Content/kendo/console.css")" rel="stylesheet" type="text/css" />*@
    @Styles.Render("~/Content/css")
    <script src="@Url.Content("~/Scripts/kendo/2014.1.415/jquery.min.js")"></script>
    <script src="@Url.Content("~/Scripts/kendo/2014.1.415/kendo.all.min.js")"></script>
    <script src="@Url.Content("~/Scripts/kendo/2014.1.415/kendo.aspnetmvc.min.js")"></script>
    <script src="@Url.Content("~/Scripts/kendo/2014.1.415/console.js")"></script>
    <script src="@Url.Content("~/Scripts/kendo.modernizr.custom.js")"></script>    
    @{
        var culture = System.Threading.Thread.CurrentThread.CurrentCulture.ToString();
    }
    <script src="@Url.Content("~/Scripts/kendo/2014.1.415/cultures/kendo.culture." + culture + ".min.js")"></script>
    <script type="text/javascript">
        //set current culture script
        kendo.culture("@culture");
    </script>

</head>
<body>

    <div id="header">
        <h1>
            <a href="~/Home/Index/0">HỆ THỐNG KHÁCH SẠN CAO CẤP</a>
        </h1>
        <ul id="navlist">
            <li>@Html.ActionLink("Giá phòng", "Index", "ListChargeRates")</li>
            <li>@Html.ActionLink("Loại Giá", "Index", "ListChargeTypes")</li>
            <li>@Html.ActionLink("DM phòng", "Index", "ListRooms")</li>
            <li>@Html.ActionLink("DM DV/ hàng hóa", "Index", "ListServices")</li>
            <li>@Html.ActionLink("Mua hàng", "Index", "PurchaseInvoices")</li>
            <li>@Html.ActionLink("Thống kê", "BillingReport", "Report")</li>
            <li>@Html.ActionLink("NXT", "WarehouseJournal", "Report")</li>
                        
            @Html.Partial("_LoginPartial")

        </ul>

    </div>


    @{Html.RenderAction("HotelMenu", "Home");}


    <div id="main" class="container body-content">    
        @RenderBody()
        <hr />
        <div id="footer">
            <p>&copy; @DateTime.Now.Year - NMVN Informatics Co., Ltd.</p>
        </div>
    </div>



    @Scripts.Render("~/bundles/bootstrap")

    @*<script src="~/Scripts/jquery.signalR-2.0.3.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    <!--SignalR script to update the chat page and send messages.-->
    <script>

        $(document).ready(function () {
            if ($("#windowchat").data("kendoWindow") != undefined) {
                $("#windowchat").closest(".k-window").css({ top: screen.availHeight - 335, left: 1 });
                $('#windowchat').parent().addClass("myWindow");//Use this class myWindow, in conjunction with the following css: .myWindow  .k-window-titlebar, .myWindow    .k-window-content{background-color: #0A7A06} ===> the style will affect only the particular myWindow widget instance
                $("#windowchat").data("kendoWindow").open();
            }           
        });

        $(function () {
            // Reference the auto-generated proxy for the hub.
            var chat = $.connection.chatHub;

            // Create a function that the hub can call back to display messages.
            chat.client.addNewMessageToPage = function (name, message) {

                var textArea = document.getElementById("discussion");
                // Add the message to the page.
                if (htmlEncode(message) != "") {
                    textArea.value = htmlEncode(name) + ': ' + htmlEncode(message) + '\n' + textArea.value;
                }
            };

            var text = $('#lblUserName').text();

            var d = new Date();
            var userName = text.split('@@')[text.split('@@').length - 2];
            var userName2 = userName + '(' + d.getHours() + ':' + d.getMinutes() + ')';

            $('#displayname').val(userName2);

            // Start the connection.
            $.connection.hub.start().done(function () {
                $('#message').on('keyup', function (e) {
                    if (e.which == 13) {
                        d = new Date();
                        var userName2 = userName + '(' + d.getHours() + ':' + d.getMinutes() + ')';
                        $('#displayname').val(userName2);
                        //e.preventDefault();
                        chat.server.send($('#displayname').val(), $('#message').val());
                        $('#message').val('').focus();
                    }
                });
            });
        });
        // This optional function html-encodes messages for display in the page.
        function htmlEncode(value) {
            var encodedValue = $('<div />').text(value).html();
            return encodedValue;
        }
    </script>*@


    @RenderSection("scripts", required: false)

</body>
</html>
